******************************************
　　Welcart for Wordpress
******************************************

Welcart(ウェルカート)は以下の環境で動作します。

Wordpress 2.9.0 以上 
PHP 5.2 以上 （セーフモード非対応）
MySQL 5.0 以上 
Apache を推奨 
文字コード　UTF-8


【インストール】
解凍して得られたフォルダ「usc-e-shop」をWordpressのpluginsフォルダの中に設置してください。
アップデートする場合は「usc-e-shop」を上書きします。
自動アップグレードの案内が出ているときはそのままアップグレードして構いません。

いずれの場合も本体へのカスタマイズは上書きされてしまいますのでご注意ください。

テーマは上書きされません。ただし、新しい更新も反映されませんのでプラグイン内の
テーマが変更されている場合は手動で今お使いのテーマを修正する必要が有ります。
テーマが更新された場合は、コミュニティーなどで更新箇所を公開しますのでご確認ください。



【既存のブログに Welcart をインストールするときの注意】

Welcart は、プラグイン有効化の際 posts、postmeta、options、terms などの
テーブルにデータの書き込みを行います。不測の事態を避けるためにも Welcart を
有効化する前に既存のブログのバックアップを取ってください。

JavaScript を多用しているテーマは利用できない場合が有ります。
また、他のプラグインとの競合で動作不良を起こす場合も有ります。
動作がおかしい場合は他のプラグインを停止し、Welcart Default テーマを使用して
確認してください。

Welcartを使用中に起こった如何なる損害も自己責任となります。




【開発環境】

OS　FreeBSD
PHP 5.2 
MySQL 5.1 
Apache 2.2


【更新履歴】
Development Version 0.8.1.r1012211   2010/12/21
　・発送日の目安を表示するテンプレートタグを追加
　・カート関連ページのページ送りボタンにスタイル用のclass 追加
　・IE6、IE7 で商品カテゴリーの変更ができない不具合を修正
　・非会員の場合、納品書の日付の下に０の文字が印刷される不具合を修正
　・商品リストでカテゴリー検索の仕様を変更
　・キャンペーン値引きで指定されたカテゴリーが反映されないで全品値引き対象になってしまう不具合を修正
　・入金確認メールにも受注明細が入るよう仕様を変更
　・商品オプションの並びを登録順に変更できるよう機能を追加
　・一つ目の配送方法が選択されていた場合メールに表示されない不具合を修正
　・商品データをCSV及びエクセルファイルでダウンロードできるよう機能を追加
　・商品データをCSV及びエクセルファイルでアップロード登録・更新ができるよう機能を追加
　・代引きのできない配送方法を指定できるよう機能を追加
　・会員データ及び受注データが1ページ分しか出力されない不具合を修正
　・Welcartログインウィジェットにもログインページと同じフックを設置
　・受注データ編集画面にて、配送時間の指定が無い場合に出るJavaScriptエラーを修正
　・フロントでのJavaScriptをfooter に移動
　・商品編集でプレビューができなくなっていた不具合を修正
　・画像を登録していない商品の、カートでのデフォルト画像のリンク切れを修正

Welcart 0.8.1   2010/11/27
　・IE6,7 で支払い配送方法のページでJavaScriptエラーが出ていたのを修正
　・イプシロン決済の不具合を修正
　・データベースクエリの間違いを修正
　・配送設定で送料の更新ができなかった不具合を修正
　・PayPal決済で完了ページにオートリターンできない不具合を修正
　・ショートコードのカート投入ボタンによる遷移の不具合を修正
　・日本語若しくは英語以外の言語の場合、言語ファイルがうまく適用されなかった不具合を修正
　・商品オプションのテキストエリア内で改行ができない不具合を修正
　・完了ページでWarning がでてしまう不具合を修正
　・購入制限数が0になっているとカートに投入できなくなる不具合を修正

Welcart 0.8  　2010/11/12
　・J-payment 決済サービスに対応
　・受注データ及び会員データ出力機能の追加
　・初期有効化時に管理パネルにてカテゴリーが表示されない不具合を修正
　・半角’＆’が使われているときのメール送信の不具合を修正
　・商品詳細ページのカスタムフィールドを登録順に表示されるよう修正
　・一つ目の配送方法が削除できない不具合を修正
　・フロントエンドの言語を選択できる機能を追加
　・パスワード保護の状態の商品では、商品詳細ページが表示されないよう修正
　・配送設定で送料を固定しているのに配送方法に合った送料に切り替わらない不具合を修正
　・フロントの会員情報編集画面で会員削除ができるよう機能追加
　・ブログ用ウィジェットで商品を除外するよう修正（フックが必要）
　・accessテーブル更新処理の修正
　・キャンペーン特典ポイントが全商品（カテゴリー）で反映されない
　・出力文字のメタ処理を修正（ダブルクオート対策）
　・Welcart Default テーマでの不具合を修正
　・ルミーズ決済での不具合を修正
　・営業日設定でのキャンペーン期間の設定がうまくできない
　・カートが空の場合「買い物を続ける」の遷移がおかしい
　・Welcart カスタムフィールドのチェックボックスの値がクリアされない
　・PayPalで決済の不具合を修正
　・PayPal決済で、Auto Return がOFF でも利用できるよう仕様を変更
　・獲得ポイントを、使用ポイントを引いてから計算するよう仕様を変更

Welcart 0.7.3  　2010/9/28
　・SSLを利用した場合のクレジット決済の不具合を修正
　・Welcart Default テーマのサイドバー内のリンクを修正

Welcart 0.7.2  　2010/9/22
　・パーマリンクを利用した場合にSSLで起こる不具合を修正
　・フォーム入力後にバックスラッシュが出現する不具合を修正
　・ルミーズ・コンビニ決済で内容確認ページの「戻る」ボタンを押したときの遷移の不具合を修正

Welcart 0.7.1  　2010/9/13
　・ｖ0.6以前のバージョンで登録した商品に対して支払方法が反映されていなかった不具合を修正
　・ルミーズ決済でエラーステイタスがうまく取れていなかった不具合を修正
　・一部サーバーで発生していたSSLの不具合を修正
　・ｖ0.7で発送・支払方法の備考欄のスタイルが崩れる不具合を修正
　・通常価の表示がカンマ付きにならない不具合を修正
　・i_itemShipping というカスタムフィールドができてしまう不具合を修正
　・メンバーページ設定の会員関連ページの挿入する説明書の項目でバックスラッシュがついてしまう不具合を修正
　・商品詳細ページにカスタムフィールドが表示されてしまう不具合を修正
　・SSL化したお問合せフォームでSSL警告が出る不具合を修正


Welcart 0.7  　2010/9/6
　・クレジット決済に「ゼウス決済」と「ルミーズ決済」を搭載
　・注文情報やお客様情報などに任意の項目を設定できる機能を追加
　・URLに露出するセッションIDを隠蔽するよう修正
　・Welcart を同一ドメインで複数利用する場合には、独自のキーを設定するよう修正
　・在庫管理を行っていると購入制限数が有効にならない不具合を修正
　・数量入力フォームのIEでの挙動がおかしくなる不具合を修正
　・商品を下書き保存すると、管理パネルの投稿記事リストに商品が表示されてしまう不具合を修正
　・受注データ更新の際、発送日が更新されるアラートを出すよう修正
　・Welcart お問合せフォールのSSL通信でセキュリティー警告が出る不具合を修正

Welcart 0.6  　2010/7/27
　・代引き手数料を段階的に設定できるよう改善
　・Welcart 問い合わせフォームのＳＳＬ対応
　・受注データ編集で送信する管理メールを管理者にも同報されるよう改善
　・商品編集時のメディア・ライブラリにアイキャッチ画像のリンクが出ない不具合を修正
　・会員登録時に管理者へ報告メールが届くよう改善

Welcart 0.5.2  　2010/6/25
　・SSLページを閲覧中、リンクが全てhttps になってしまう不具合を修正
　・不要なJavaScript の関数を削除

Welcart 0.5.1  　2010/6/24
　・デフォルトテーマで、会員システムを使っていない場合、固定のログイン・ウィジェットを非表示になるよう修正
　・デフォルトテーマで、カスタムメニューの不具合を修正
　・支払い発送方法ページにて情報が遷移されていなかった不具合を修正

Welcart 0.5  　2010/6/12
　・デフォルトテーマを一新。「Welcart Default Theme 1.0」に入れ替え
　・WordPress3.0にて商品登録時に有った不具合を修正
　・商品編集でカスタムフィールドが使えるように修正
　・商品に対してコメントが入れられるように修正
　・商品情報に使用していたメタキーの仕様を変更
　・ログイン時の脆弱な部分を修正
　・ログアウトしてもカートのお客様情報が残ってしまう不具合を修正
　・「ログイン情報を記憶する」をチェックしても保持されない不具合を修正
　・メンバー情報編集でパスワードを空白にしても変更されてしまう不具合を修正
　・配送設定の配送名のIDを0から始まるように変更
　・お問い合わせフォームを利用した場合の入力チェック処理を追加
　・wp_list_pages()から生成されるリンクの場合カートページなどがSSLを通らなくなる不具合を修正
　・SSLを使用した際、特定の固定ページへのリンクが異常だったのを修正

Welcart 0.4.4　2010/4/21
　・新規入会フォームが表示されない不具合を修正
　・ショップを立ち上げて最初のお客様がクレジットカード決済（イプシロン）を利用したときにエラーになる不具合を修正
　・クレジットカード決済（イプシロン）にて、商品名が全角32文字（複数商品の場合は25文字）を超えるとエラーになる不具合を修正

Welcart 0.4.3　2010/4/20
　・カートにて数量を変更した際、0にしても購入手続きが出来てしまう不具合を修正
　・非SSLのページでも画像やスタイルシートなどが全てSSLを通っている不具合を修正
　・共用SSLの場合パーマリンクを使用するとカートページなどには入れなくなる不具合を修正
　・PHP4 の環境の場合、カートページでエラーが出る不具合を修正
　・購入履歴に注文番号などを表示
　・カートページの商品のサムネイルに、商品詳細ページへのリンクを設置
　・営業日カレンダーで今日の日付をハイライト表示するようスタイルを変更
　・「配送希望時間」が空欄の場合はショップ”指定できません”と表示するよう変更
　・その他調整

Welcart 0.4.2　2010/3/25
　・在庫数チェックの不具合を修正

Welcart 0.4.1　2010/3/25
　・カートページにて、在庫数を超える数量でも購入手続きが出来てしまう不具合を修正
　・メールからアクセスするパスワード変更ページにて、画面の遷移エラーが出る不具合を修正
　・記録される時間が標準時になってしまう場合がある不具合を修正
　・会員情報ページにて「トップへ戻る」ボタンが正常でない不具合を修正
　・PayPal用モジュールサンプルの英語版を添付
　・Welacertウィジェットのアイコンを自由に変更できるよう修正

Welcart 0.4　2010/3/10
　・単独でSSLが使えるよう修正
　・カートページの商品名の表示仕様を変更できるよう機能を追加
　・受注メールに購入者のIPアドレスを記載するよう修正
　・インターナショナリゼーション完了
　・JavaScriptエラーによる不具合を修正
　・その他不具合を修正

Welcart 0.3　2010/2/3
　・商品のCSVデータによる一括登録機能を追加
　・商品マスター・リスト画面において、Wordpress2.9の「ゴミ箱」に対応
　・商品オプションにテキスト入力タイプを追加
　・新規商品追加ページでの複写追加機能を追加
　・paypal決済モジュールを追加
　・「All in One SEO Pack」が使えるよう修正
　・管理メールに発送予定日が入るよう変更。これに伴いデータベーステーブルusces_order にカラムを追加
　・自動送信メールのボディーにある説明文を一部削除
　・商品の公開日時が変更ができない不具合を修正
　・その他不具合を修正

Welcart 0.2.2　2009/12/19
　・会員情報ページにてメールアドレスを変更して更新した場合の重複チェックを追加
　・カートの客様情報入力ページにて、無記入でも「会員登録をしながら次へ」の遷移が行われる不具合を修正
　・商品詳細ページに定価が表示されるよう変更
　・カートページにてENTERキーの遷移先がいつでも「カートの中」になってしまう不具合を修正
　・inquiry.phpを使用したお問い合わせフォームで送信完了メッセージが英語になっている不具合を修正
　・ショップでの会員情報ページにて、メールアドレスを変更した場合の不具合を修正
　・送料個別課金を指定した場合の送料合計計算の不具合を修正
　・カートページにて購入制限数と在庫数の両方を設定した場合のチェック数量チェックの不具合を修正
　・カート投入時の数量は上書きではなく加算に仕様変更
　・会員情報ページのメンバー表の「お名前」が「入会日」と表示されてしまう不具合を修正
　・送信されるメールで、特別割引が0円の場合は非表示になるよう修正
　・購入履歴において、「sales tax」を「消費税」と表示されるよう修正
　・カートページにて、「3.発送・支払方法」を「発送・支払方法」と表示されるよう修正
　・イプシロン決済での不具合を修正
　・モダンブラウザにてカテゴリー一覧ページのスタイルが崩れていたのを修正
　・ショップから会員情報を変更した場合会員情報が壊れる不具合を修正
　・決済モジュールの設置場所を指定できるようにシステム設定ページにオプションを追加
　・ショップからの会員情報変更でメールアドレスを変更できるよう修正
　・現在のカートの中の商品数、合計金額を表示するテンプレートタグを追加

Welcart 0.2.1　2009/10/28
　・管理画面のメニューや送信メールの文章でローカライゼイションを修正。
　・カートの各ページ及び会員の各ページ内に必要な追加説明（html）を管理画面から追加できるように機能を追加。
　・管理画面「システム設定」から地区設定（都道府県）を任意に変更できる機能を追加。これにより販売対象地区を限定することができるようになります。
　・メールの送信元が文字化けしていたのを修正。（メールアドレスのみに変更）

Welcart 0.2.0　2009/10/23
　・Wordpress.org の Plugin Directory にWelcart を登録。正式プラグインとしてリリース開始。

Welcart 0.1.24　2009/10/17
　・管理画面にて、受注データ編集ページで更新確定ボタンを押すとメールアドレス等が消えてしまう不具合を修正。

Welcart 0.1.23　2009/10/17
　・Welcartに改名しました。
　・ログインウィジェットを追加。
　・ショップにて、カートページやメンバーページを表示した際、サイドバーの
　　ページリンクタイトルが全て、表示しているページのタイトルと同じになって
　　しまっていた不具合を修正。
　・ショップにて、お客様情報記入ページにログインして「次へ」の機能を追加。
　・同じくお客様情報記入ページで、「会員登録しながら次へ」の機能を追加。

uCart 0.1.22　2009/10/06
　・ショップ会員がパスワードを忘れた場合の処理において不具合があったのを修正。
　・購入金額よりも多くポイントを使えた不具合を修正。
　・メールのFromが異常だったのを修正。
　・納品書・見積書印刷を押したときの不具合を修正。
　・納品書・見積書の品名が長い場合に表示が壊れる不具合を修正。
　・SSLを通した際に納品書・見積書が出力されていなかった不具合を修正。

uCart 0.1.21　2009/09/14
　・複合カテゴリー検索ページでのカテゴリーの表示の仕方で、カテゴリーの並び替えができるよう「システム設定」に機能を追加。 
　・「商品情報編集」にrunPHPのチェックボックスを追加。 
　・商品詳細ページでの数量の初期値を1に変更 
　・数量0でカートに入れた場合アラーとを表示するよう変更 
　・会員にポイントが付与されない不具合を修正 

uCart 0.1.20　2009/08/08
　・XSSに対する脆弱な部分を修正。
　・メンテナンスモードでの不具合を修正。
　・SSL使用時にSKUの非同期更新ができない不具合を修正。
　・イプシロン・カード決済モジュールを追加。
　・管理画面で会員リストの削除と修正ができるよう修正。

uCart 0.1.19　2009/08/01
　・消費税ガイドが機能していなかったのを修正。
　・カートページで出ていた表示の不具合を修正。
　・管理画面のメディアのリスト、および投稿リストの不具合を修正。
　・有効化時のテーブルクリエイトでコレーションを指定するに変更（MySQL4.0非対応）。

uCart 0.1.18　2009/07/29
　・ブログのアドレスをWordPress のアドレスとは別に設定した場合リンクが正常でなかった不具合を修正。
　・システム設定にアンカー用rel属性を設定できる機能を追加。

uCart 0.1.17　2009/07/25
　・uCartをテーマに依存しないプラグインに仕様を変更しました。
　・「会社概要」などのページの自動登録を削除しました。
　・「ブログ」などのカテゴリーの自動登録を削除しました。
　・管理画面にシステム設定を追加しました。
　・「information」「diary」のウィジェットを廃止し、「ページ」「ポスト」ウィジェットを追加しました。
　・新しいuCart用にuCart Defaultテーマを更新しました。

uCart 0.1.16　2009/07/16
　・サイドバーウィジェットを動的ウィジェットに変更。
　・ウィジェットの変更につきuCart Defaultテーマを更新しました。

uCart 0.1.15　2009/07/08
　・送料無料条件が空白（条件指定無し）の時に送料が無料になってしまっていたのを修正（usceshop.class.php）
　・カートで数量を変更したときに在庫が無視されていたのを修正
　・会員の購入履歴で単価に業務用割引単価が適用されていなかったのを修正(uCart Default テーマ)
　・存在しない決済モジュールを指定された場合に発生するエラーを修正

uCart 0.1.14　2009/07/1
　・uCart Default Themeを更新しました

uCart 0.1.13　2009/06/26
　・受注データテーブルを一部修正

uCart 0.1.12　2009/06/26
　・MySQL4対策・・・商品リスト画面が表示されないのを修正（サブクエリを使用しない）
　　但し、MySQL4では商品コードによるソート、検索ができません。また、商品名の代わりに
　　商品詳細ページタイトルを表示することでエラーを回避しました。 

uCart 0.1.11　2009/06/25
　・一部サーバーでメールの送信が正常にできなかった不具合を修正 
　・新規商品登録した際、デフォルトでカテゴリー「商品」に登録されるよう修正 
　・配送設定で料金入力欄がずれていたのを修正
　・uCart 管理画面ホームでfeedしているサポートサイトの投稿記事を「お知らせ」だけに変更


　